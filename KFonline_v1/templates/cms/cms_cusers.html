{% extends 'cms/cms_base.html' %}
{% from 'common/_macros.html' import static %}

{% block title %}
用户管理
{% endblock %}

{% block head %}
<script src="{{ static('cms/js/cusers.js') }}"></script>
{% endblock %}

{% block page_title %}
{{ self.title() }}
{% endblock %}

{% block main_content %}
<div class="top-box">
    <button class="btn btn-warning" style="float: right"  data-toggle="modal" data-target="#user-dialog">添加新用户</button>
</div>
<table class="table table-bordered">
    <thead>
    <tr>
        <th>用户名称</th>
        <th>用户邮箱</th>
        <th>创建时间</th>
        <th>操作</th>
    </tr>
    </thead>
    <tbody>
    {% for cuser in cusers %}
    <tr data-name="{{ cuser.username }}" data-id="{{ cuser.id }}" data-email="{{ cuser.email }}">
        <td>{{ cuser.username }}</td>
        <td>{{ cuser.email }}</td>
        <td>{{ cuser.join_time }}</td>
        <td>
{#            <button class="btn btn-default btn-xs edit-user-btn">编辑</button>#}
            <button class="btn btn-danger btn-xs delete-user-btn">删除</button>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
<div class="modal fade" id="user-dialog" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">新增用户</h4>
                </div>
                <div class="modal-body">
                    <form action="" class="form-horizontal">
                        <div class="form-group">
                            <label class="col-sm-2 control-label">用户名：</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="username" placeholder="用户名称">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">用户密码：</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="password" placeholder="用户密码">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">邮箱：</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="email" placeholder="用户邮箱">
                            </div>
                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary" id="save-user-btn">保存</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}